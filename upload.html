<!DOC HTML>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="stylesheet" type="text/css" href="css/upload.css" />
<title>Upload Image</title>
    
</head>

<body>
  
    <div class="row">
    <div class="input_box">
    
        
        <label for="">
        
        <input type="file" id="myFile" size="50" onchange="uploadImage(event)">
        
        </label>
        
    </div>
        
        <button onclick="showImages()" style="justify-content: center;" class="btn btn-primary">
    
    Show Images
        
    </button>
        
        <button onclick="DeleteImage()" style="justify-content: center;" class="deleteButton">
        
        Delete Images
            
        </button>
        
        
    </div>
    <div id="preview">
    
    
    </div>
    
    
    <script>
    
    function uploadImage(event) {
            
        var reader = new FileReader();
        var name = event.target.files[0].name;
        reader.addEventListener("load", function (){
            if(this.result && localStorage){
                window.localStorage.setItem(name, this.result);
            } else {
                alert();
            }
        });
        
        reader.readAsDataURL(event.target.files[0]);
            
            
        }
        
        function showImages() {
            
            var img = document.getElementById("img");
            
            var parentDiv = document.getElementById('preview');
            if (parentDiv.contains(img)) {
                parentDiv.prepend(img);
            }else if (parentDiv.contains(img) == false){
            
            for(let i = 0; i < window.localStorage.length; i++){
                let res = window.localStorage.getItem(window.localStorage.key(i));
                
                var image = new Image();
                var button = document.createElement("button");
                image.src = res;
                document.body.append(image);
                image.setAttribute('id', 'img');
                parentDiv.append(image);
            }
        }
    }
        function DeleteImage(){
            window.localStorage.removeItem(name);
        }
    
            
    
    </script>

</body>


</html>